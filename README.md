# Lua скрипт для терминала Quik

Это lua скрипт для терминала Quik, который выводит сводную статистику по счету в понятном формате в отдельной вкладке окна и также помогает фиксировать финансовый результат и прекращать торговлю по счету.

## Возможности

- Скрипт показывает следующую статистику по счету:
  - Баланс (фиксированный исходя из всех доходов, расходов, снятий средств со счета)
  - Средства (баланс в моменте с учетом просадки и т.д., если фиксировать результат по счету)
  - Маржа (то, что забрано в торговлю по ГО)
  - Свободная маржа (то, что еще можно использовать в торговлю ГО, с учетом вычета Маржи, что уже в расходе по позициям, как на форексе)
  - Прибыль-Убыток по счету в моменте (% и значение цифрами в валюте счета) и:
    - день
    - неделя
    - месяц (последние 12 месяцев)
  - Расходы по счету:
    - по списанным комиссиям
    - налоги к уплате за весь период счета, учитывая налоги, которые необходимо будет уплачивать в случае финансового результата. т.е. если вы наторговали в +, то скрипт понимает, что в моменте с этой суммы в будущем необходимо будет оплатить определенный %
- Скрипт показывает следующую статистику по открытым сделкам:
  - Код инструмента, направление сделки Long Short, количество контрактов, маржа по позиции, эквити в динамике в % и цифрами в валюте счета, биржевые сборы по позиции
- Скрипт позволяет закрыть сделку по инструменту, кликнув по его коду во вкладке окна и введя пароль
- Скрипт позволяет фиксировать позиции-сделки по счету, нажав на клавишу и введя пароль
- Скрипт останавливает все lua скрипты по инструментам после фиксации позиций-сделок по счету

## Установка

- Скопируйте основной файл скрипта (Script_N1.lua) и файл конфигурации (config.lua) в папку вашего терминала Quik
- Отредактируйте файл конфигурации (config.lua) в соответствии с вашими предпочтениями и параметрами (номер счета, клиентский код, ставка налога, ставка биржевых сборов, клавиша и пароль для фиксации позиций-сделок по счету, положение и размер окна терминала Quik и т.д.)
- Запустите основной файл скрипта (Script_N1.lua) из вашего терминала Quik

## Использование

- Скрипт выведет вкладку окна со сводной статистикой по счету и открытым сделкам
- Вы можете кликнуть по любому коду инструмента во вкладке окна, чтобы закрыть сделку по этому инструменту. Вам потребуется ввести пароль для подтверждения.
- Вы можете нажать на клавишу (указанную в config.lua), чтобы фиксировать позиции-сделки по счету. Вам потребуется ввести пароль для подтверждения.
- Скрипт остановит все lua скрипты по инструментам после фиксации позиций-сделок по счету.

## Отказ от ответственности

Мой код не гарантирует работоспособность без ошибок или соответствие всем требованиям пользователя. Автор не несет ответственности за любые потери или убытки, которые могут возникнуть при использовании этого кода. Используйте его на свой страх и риск.
